// jquery-tablesort3s v1.0.1 | https://github.com/luciole75w/jquery-tablesort3s | MPL 2.0 licensed
"use strict";!function(i){i.fn.extend({tablesort3s:function(s,e){return this.filter("table").each(function(){let t=i(this).data("tablesort3s");void 0===t&&(t=new r(this,"object"==typeof s?s:{}),i(this).data("tablesort3s",t)),"number"!=typeof s&&!1!==s||t.sort(s,e)})}});class e{constructor(t,s){this.$row=i(t),this.$tbody=this.$row.parent(),this.fake=void 0!==s?this.$row.is(s):this.$row.children().is(function(){return 1<this.colSpan}),this.rank=t.rowIndex,this.fake?this.fakeKey={text:"#"+this.rank,num:this.rank}:this.keys=this.parse()}updateDOM(t){this.fake&&t?this.$row.detach():this.$row.appendTo(this.$tbody)}parse(){return i.map(this.$row.prop("cells"),function(t){var t=i(t).text().toLowerCase(),s=/^[+-]?\d+(?:\.\d+)?/.exec(t);return{text:t,num:null!==s?Number(s[0]):null}})}static comparator(i,o){return!1===i?function(t,s){return t.rank-s.rank}:function(t,s){var e=t.fake?t.fakeKey:t.keys[i],r=s.fake?s.fakeKey:s.keys[i];let n;if(e.num!==r.num)n=null!==e.num?null!==r.num?e.num-r.num:1:-1;else if(e.text<r.text)n=-1;else{if(!(e.text>r.text))return t.rank-s.rank;n=1}return o?n:-n}}}class r{static defaultHints=["+","-","x","x"];constructor(t,s){this.headerCells=t.tHead.rows[s.headerRow||0].cells,this.source=i.map(t.tBodies[0].rows,function(t){return new e(t,s.fakeFilter)}),this.hinter=function(){var t=2*i(this).hasClass("sort-on")+!i(this).hasClass("sort-asc");return(s.hints||r.defaultHints)[t]},(1<this.source.length||s.forceUI)&&this.bindWidgets(this,s.noSortFilter,s.widgetClass)}bindWidgets(r,t,n){i(this.headerCells).not(void 0!==t?t:".nosort").each(function(t,s){var e=i("<div>").addClass(n||"sort").append(i('<button class="sort-asc" />')).append(i('<button class="sort-desc" />'));e.children().on("click",function(){r.sort(!i(this).hasClass("sort-on")&&s.cellIndex,i(this).hasClass("sort-asc"))}).attr({type:"button",title:r.hinter}).text(function(){return this.title}),e.appendTo(s)})}sort(t,s){i(".sort-on",this.headerCells).removeClass("sort-on").attr("title",this.hinter).text(function(){return this.title}),!1!==t&&i(s?".sort-asc":".sort-desc",this.headerCells[t]).addClass("sort-on").attr("title",this.hinter).text(function(){return this.title}),this.source.sort(e.comparator(t,s)),i.each(this.source,function(){this.updateDOM(!1!==t)})}}}(jQuery);
